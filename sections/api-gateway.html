<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Gateway</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="/Users/clark/microservices/index.html">Java Microservices Guide</a>
        </div>
    </nav>
    <div class="container mt-5">
        <section id="api-gateway" class="py-5 bg-light">
            <div class="container">
                <h2>2. API Gateway</h2>
                <p class="lead">The single entry point for all clients.</p>

                <h4>The API Gateway Pattern</h4>
                <p>In a microservices architecture, the client application would have to know the location of every single microservice. This is brittle and complex. The API Gateway pattern solves this by providing a single entry point for all clients. The gateway acts as a reverse proxy, routing requests to the appropriate backend service. It can also perform cross-cutting concerns such as authentication, SSL termination, and rate limiting.</p>

                <h4>Implementation with Java & Spring Cloud Gateway</h4>
                <p>Spring Cloud Gateway is a modern, non-blocking API Gateway built on top of Project Reactor, Spring WebFlux, and Spring Boot. It allows you to define routes and apply filters to incoming requests.</p>
                <p>Here's how you can configure a simple route in `application.yml`:</p>
                <pre><code>
spring:
  cloud:
    gateway:
      routes:
        - id: product_service_route
          uri: lb://product-service
          predicates:
            - Path=/products/**
        - id: order_service_route
          uri: lb://order-service
          predicates:
            - Path=/orders/**
                </code></pre>
                <p>In this example, requests to `/products/**` are routed to a service named `product-service` (which is discovered via a service discovery mechanism), and requests to `/orders/**` are routed to `order-service`.</p>

                <h4>Real-World Use Case: Mobile Application</h4>
                <p>A mobile application often needs to display a lot of information on a single screen, which may come from multiple microservices. For example, a product details screen might need product information, reviews, and inventory status. Instead of the mobile app making three separate requests, it can make a single request to the API Gateway. The gateway can then invoke the three microservices and aggregate the results into a single response for the mobile app. This is known as the "Backend for Frontend" (BFF) pattern.</p>

                <h4>Real-World Examples</h4>
                <ul>
                    <li><strong>Netflix Zuul:</strong> Netflix's own API Gateway, which handles all incoming requests to their microservices architecture.</li>
                    <li><strong>Amazon API Gateway:</strong> A managed service from AWS that makes it easy to create, publish, maintain, monitor, and secure APIs at any scale.</li>
                    <li><strong>Kong:</strong> A popular open-source API Gateway and platform.</li>
                </ul>

                <h4>Resources</h4>
                <ul>
                    <li><a href="https://spring.io/projects/spring-cloud-gateway" target="_blank">Spring Cloud Gateway Documentation</a></li>
                    <li><a href="https://microservices.io/patterns/apigateway.html" target="_blank">API Gateway pattern on Microservices.io</a></li>
                </ul>
            </div>
        </section>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>